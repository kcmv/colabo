<div class="map-create-form">
  <h2>New Map</h2>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <p>
      <mat-form-field class="full-width">
        <input
          matInput
          type="text"
          placeholder="Map Name"
          formControlName="name"
          value=""
          required
        />
        <mat-error class="error-message"
          >must be 2 characters at least</mat-error
        >
      </mat-form-field>
    </p>
    <!-- 
    FROM THE OLD MAP FORM
        <input matInput type="text" placeholder="Name" [(ngModel)]="model.name" name="name" required #spy #name="ngModel"></input>
            <input matInput placeholder="Map Type" [(ngModel)]="model.type" name="type"></input>
            <input matInput placeholder="Root NodeType" [(ngModel)]="model.rootNodeType" name="rootNodeType"></input>
            <input matInput placeholder="Parent map ID" [(ngModel)]="model.parentMapId" name="parentMapId"></input>
            <input matInput placeholder="Map Version" [(ngModel)]="model.version" name="version"></input>
 -->
    <p>
      <!-- <mat-form-field class="full-width"> -->
      <mat-slide-toggle matInput formControlName="isPublic" aria-label="public">
        {{ isPublic() ? "public Map" : "private Map" }}
        <span *ngIf="!isPublic()"><mat-icon>lock</mat-icon></span>
      </mat-slide-toggle>
      <!-- <mat-slide-toggle (change)="onToggling()" class="example-margin" [checked]="getState()">{{getState() ? 'selected' : 'not selected'}}</mat-slide-toggle> -->
      <!-- OLD <slide-toggle [(checked)]="model.isPublic" aria-label="public">public</slide-toggle> -->
      <!-- </mat-form-field> -->
    </p>
    <p>
      <mat-form-field class="full-width">
        <mat-select formControlName="mapTemplate">
          <mat-option
            [value]="mapTemplate.id"
            *ngFor="let mapTemplate of mapTemplates"
            >{{ mapTemplate.name }}</mat-option
          >
          <!-- <mat-option [ngValue]="template" *ngFor="let template of templates">{{template.name}}</mat-option> -->
        </mat-select>
      </mat-form-field>
    </p>

    <p>
      <mat-form-field class="full-width">
        <input
          matInput
          type="text"
          placeholder="Map Description"
          formControlName="desc"
          value="{{ getDesc() }}"
        />
      </mat-form-field>
    </p>

    <p>
      <mat-form-field class="full-width">
        <input
          matInput
          type="text"
          placeholder="Map ID"
          formControlName="id"
          value=""
        />
        <!-- <mat-error class="error-message"
          >must be 2 characters at least</mat-error
        > -->
        <mat-hint
          >Leave empty if you want mapId to be automatically generated</mat-hint
        >
      </mat-form-field>
    </p>

    <!-- <mat-form-field> -->
    <!-- <mat-select placeholder="Template/Type" (selectionChange)='templateChanged()' [formControl]="templateFC" [(ngModel)]="selectedTemplate"> -->
    <!-- <mat-select matInput placeholder="Template/Type" (selectionChange)='templateChanged()' formControlName="template">
                <mat-option *ngFor="let templateO of templates" [value]="templateO.id">{{templateO.name}}</mat-option>
            </mat-select>
        </mat-form-field>

        </p> -->

    <p>
      <!-- type="button" is required or otherwise button reacts as type="submit", like it is default type-->
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="!form.valid || submitted"
      >
        {{ creatBtnTitle }}
      </button>
      <!-- <button mat-raised-button (click)="partialUpdate()">Partial Update</button>
<button mat-raised-button (click)="fullUpdate()">Full Update</button> -->
      <button mat-raised-button type="button" (click)="reset()">Clear</button>
      <button mat-raised-button type="button" (click)="cancel()">Cancel</button>
      <!-- <button md-button type="button" (click)="close(false)">Cancel</button> -->
    </p>
  </form>
</div>

<!-- OLD -->

<!-- <form *ngIf="mapFormActive" [formGroup]="form" (ngSubmit)="onSubmit()" #mapForm="ngForm" layout="column" class="inline-form"> -->
<!-- <form *ngIf="mapFormActive" [formGroup]="form" (ngSubmit)="onSubmit()" #mapForm="ngForm" layout="column" class="inline-form"> -->
<!-- {{mapForm.valid}}<br/>
        {{mapForm.form.valid}}<br/> -->
<!-- {{JSON.stringify(mapForm)}}<br/>
        {{JSON.stringify(mapForm.form)}}<br/> -->
<!-- {{diagnostic}} -->
<!-- <md-input placeholder="Name" [(ngModel)]="model.name" class="form-control" required name="name" #spy #name="ngModel"></md-input>
            <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
            Name is required
            </div> -->

<!-- <input matInput type="text" placeholder="Choose User by name" aria-label="Number" matInput [formControl]="myControl" [matAutocomplete]="auto"> -->

<!-- <input matInput type="text" placeholder="Name" [(ngModel)]="model.name" name="name" required #spy #name="ngModel"></input>
            <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
                Name is required
            </div>
            <input matInput placeholder="Map Type" [(ngModel)]="model.type" name="type"></input>
            <input matInput placeholder="Root NodeType" [(ngModel)]="model.rootNodeType" name="rootNodeType"></input>
            <input matInput placeholder="Parent map ID" [(ngModel)]="model.parentMapId" name="parentMapId"></input>
            <input matInput placeholder="Map Version" [(ngModel)]="model.version" name="version"></input>
            <slide-toggle [(checked)]="model.isPublic" aria-label="public">public</slide-toggle> -->

<!-- <label for="name">Name</label>
            <md-input type="text" class="form-control" required
            [(ngModel)]="model.name"
                name="name" #spy #name="ngModel"></md-input>
            <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
                Name is required
            </div>
            <br>TODO: remove this: {{spy.className}}
        </div>
            -->
<!-- <div layout="row"> -->
<!-- type="button" is required or otherwise button reacts as type="submit", like it is default type-->
<!-- <button md-button type="button" (click)="close(false)">Cancel</button>
            <button md-button type="submit" [disabled]="!mapForm.form.valid">Create</button> -->
<!-- <button md-button class="md-primary" (click)="mapDialog.close(true)">
                <span *ngIf="modeEditing">Update</span><span *ngIf="modeCreating">Create</span>
            </button> -->
<!-- </div>
        </form> -->
<!-- <md-dialog-actions>
        <button md-button (click)="close(false)">Cancel</button>
        <button md-button (click)="close(true)">Create</button>
    </md-dialog-actions> -->
