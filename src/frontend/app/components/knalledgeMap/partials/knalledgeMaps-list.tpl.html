<div class="mapsList">
	<h1>CollaboFramework/KnAllEdge Maps</h1>
	<div class='creatingNewMap' ng-class="{ 'displayNone': modeCreating == false && modeEditing == false}">
		<form>
			<fieldset>
				<legend>New Map</legend>
				<div><label>Name</label><input type="text" ng-model="mapToCreate.name" /></div>
				<div><label>Map Type</label><input type="text" ng-model="mapToCreate.type" /></div>
				<div><label>Root NodeType</label><input type="text" ng-model="mapToCreate.rootNodeType" /></div>
				<div><label>Parent map ID</label><input type="text" ng-model="mapToCreate.parentMapId" /></div>
				<div><label>Map Version</label><input type="text" ng-model="mapToCreate.version" /></div>
				<div><label>Participants</label><input type="text" ng-model="mapToCreate.participants" /></div>
				<div><label>Authors</label><input type="text" ng-model="mapToCreate.dataContent.mcm.authors" /></div>
		 		<p class="buttons">
					<button class="btn btn-warning" ng-click="cancelled()">Cancel</button>
					<span class='showCreateNewMap' ng-class="{ 'displayNone': modeCreating == false }">
						<button class="btn btn-primary" type="submit" ng-click="createNew()">Create Map</button>
					</span>
					<span class='showCreateNewMap' ng-class="{ 'displayNone': modeEditing == false }">
						<button class="btn btn-primary" type="submit" ng-click="updateMap()">Save</button>
					</span>
				</p>
			</fieldset>
		</form>

	</div>
	<div>TESTING
		<span *ngIf="policyConfig.moderating.enabled">
		<!-- <span *ngIf="false"> -->
			policyConfig.moderating.enabled = {{policyConfig.moderating.enabled}} = true
		</span>
		||
		<span *ngIf="!policyConfig.moderating.enabled">
			policyConfig.moderating.enabled = {{policyConfig.moderating.enabled}} = false
		</span>
	</div>
	<div>
		<br/>
		<span>You are participating in {{items.length}} maps:</span>
		<table class="list">
			<tr><th *ngShow="policyConfig.moderating.enabled" class="mcm_name">Id</th>
				<th class="mcm_name">Name</th>
				<th *ngIf="policyConfig.moderating.enabled" class="mcm_name">Actions</th>
				<th class="mcm_authors">Authors</th>
				<th class="mcm_type">Type</th>
				<th>Participants</th>
				<th class="creation_date">Creation Date</th></tr>
			<tr ng-click="selectItem(item)" ng-repeat="item in items" data-ng-class="{'active-selection': item._id == selectedItem._id}">
				<td *ngShow="policyConfig.moderating.enabled">{{item._id}}</td>
				<td>{{item.name}}</td>
				<td *ngIf="policyConfig.moderating.enabled">
					<button md-fab class="md-primary" aria-label="delete" (click)="delete(item)">
							<i md-icon>view_agenda</i>
					</button>
					<a ng-click="delete(item)" href='javascript:void(0);'>del</a> <a ng-click="duplicate(item)" href='javascript:void(0);'>dupl</a>
					<span *ngIf="!policyConfig.moderating.enabled"> regular actions ....{{policyConfig.moderating.enabled}}</span> | <span *ngIf="policyConfig.moderating.enabled"> moderator actions ....{{policyConfig.moderating.enabled}}</span></td>
				<td>{{item.dataContent.mcm.authors}}</td>
				<td>{{item.type}}</td>
				<td><a href='javascript:void(0);'>participants</a></td>
				<!-- {{getParticipantsNames(item.participants)}} -->
				<td>{{item.createdAt}}</td>
			</tr>
		</table>
	</div>
	<p class="buttons">
		<button class="btn btn-primary" type="submit" ng-click="openMap()">Open Map</button>
		<button class="btn btn-primary" type="submit" ng-click="editMap()">Edit Map</button>
		<span class='showCreateNewMap' ng-class="{ 'displayNone': modeCreating == true || modeEditing == true}">
			<button class="btn btn-primary" ng-click="showCreateNewMap()">Create a New Map</button>
		</span>
	</p>
</div>
